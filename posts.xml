<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>dkdc.dev</title>
<link>https://dkdc.dev/posts.html</link>
<atom:link href="https://dkdc.dev/posts.xml" rel="self" type="application/rss+xml"/>
<description>Cody&#39;s website</description>
<generator>quarto-1.5.57</generator>
<lastBuildDate>Sun, 17 Nov 2024 00:00:00 GMT</lastBuildDate>
<item>
  <title>fast Python Dockerfile with uv</title>
  <dc:creator>Cody </dc:creator>
  <link>https://dkdc.dev/posts/fast-uv-dockerfile/</link>
  <description><![CDATA[ 





<p><strong><em>Fast, full-stack Python application with quick build times.</em></strong></p>
<hr>
<p>In this post, we’ll look at my Dockerfile:</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode dockerfile code-with-copy"><code class="sourceCode dockerfile"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Dockerfile</span></span>
<span id="cb1-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">FROM</span> ghcr.io/astral-sh/uv:latest <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> uv</span>
<span id="cb1-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">FROM</span> python:3.12-slim</span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Install the required system packages</span></span>
<span id="cb1-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">RUN</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">apt-get</span> update <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">apt-get</span> install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-y</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb1-6">    git <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb1-7">    ffmpeg <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb1-8">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">apt-get</span> clean <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb1-9">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-rf</span> /var/lib/apt/lists/<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb1-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Set the environment variables</span></span>
<span id="cb1-11"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">ENV</span> PATH=/root/.local/bin:$PATH</span>
<span id="cb1-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Set the working directory</span></span>
<span id="cb1-13"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">WORKDIR</span> /app</span>
<span id="cb1-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Copy the files</span></span>
<span id="cb1-15"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">COPY</span> readme.md /app/readme.md</span>
<span id="cb1-16"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">COPY</span> pyproject.toml /app/pyproject.toml</span>
<span id="cb1-17"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">COPY</span> .git /app/.git</span>
<span id="cb1-18"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">COPY</span> src /app/src</span>
<span id="cb1-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Install the Python packages</span></span>
<span id="cb1-20"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">RUN</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">--mount=type=cache,target=/root/.cache/uv</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb1-21">    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">--mount=from=uv,source=/uv,target=./uv</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb1-22">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">./uv</span> pip install <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'my-package @ .'</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--system</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--upgrade</span></span></code></pre></div>
<p>This allow for a <a href="https://12factor.net">twelve-factor-style</a> Python application deployed with Docker. I use a Docker compose YAML file with a backend server and GUI container, both running the same image with different CLI commands (e.g.&nbsp;<code>my-package server</code> and <code>my-package gui</code>) and mounting a <code>~/.my-package</code> directory for secrets and persistent data.</p>
<p>My rough Python stack includes:</p>
<ul>
<li><a href="https://fastapi.tiangolo.com">FastAPI</a>: backend server</li>
<li><a href="https://typer.tiangolo.com">Typer</a>: CLI</li>
<li><a href="https://github.com/sqlite/sqlite">SQLite</a> and/or <a href="https://github.com/postgres/postgres">Postgres</a>: OLTP database</li>
<li><a href="https://github.com/duckdb/duckdb">DuckDB</a>: OLAP database (views on top of the OLTP tables)</li>
<li><a href="https://github.com/ibis-project/ibis">Ibis</a>: table management and queries</li>
<li><a href="https://github.com/posit-dev/py-shiny">Shiny for Python</a>: GUI</li>
</ul>
<p>Of course, many other tools and Python packages are used along the way, but this stack contained in a single Dockerfile easily allows deploying a single-node full-stack Python application with minimal build times locally, on a Raspberry Pi, and on a cloud VM with ease.</p>
<section id="miscellaneous-notes" class="level3">
<h3 class="anchored" data-anchor-id="miscellaneous-notes">Miscellaneous notes</h3>
<ul>
<li><strong>order</strong>: the Dockefile is ordered so that frequently changing parts are toward the bottom</li>
<li><strong>system installs</strong>: if you don’t need these, you can remove them. I also need to re-add Postgres here if using it (I’m not currently in the project I copied this from)</li>
<li><strong>cache</strong>: the big point is the caching line, which I stole from somewhere (<a href="https://github.com/astral-sh/uv/issues/4385">here?</a>)</li>
<li><strong>git</strong>: I wouldn’t recommend copying the <code>.git</code> directory (or intalling <code>git</code>), but I’m kinda-sorta using it (I might remove it)</li>
<li><strong>readme.md</strong>: the <code>pyproject.toml</code> is needed as it defines the installation of the package (and CLI), and the <code>readme.md</code> is needed because it’s referenced in the <code>pyproject.toml</code></li>
<li><strong>src</strong>: this is the source code, in something like <code>src/my_package</code>, and obviously needs to be copied</li>
<li><strong>pinning verions</strong>: in general I’m not pinning (or using a <code>uv</code> lockfile), but I would obviously recommend doing so for production workloads and having a process for updating dependencies</li>
</ul>
<p>Combining this with a few <code>justfile</code> commands makes development and deployment very easy.</p>


</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>python</category>
  <guid>https://dkdc.dev/posts/fast-uv-dockerfile/</guid>
  <pubDate>Sun, 17 Nov 2024 00:00:00 GMT</pubDate>
</item>
<item>
  <title>on hurricanes</title>
  <dc:creator>Cody </dc:creator>
  <link>https://dkdc.dev/posts/on-hurricanes/</link>
  <description><![CDATA[ 





<p><strong><em>“FUCK!”</em></strong></p>
<hr>
<p>Last week there was a disaster and that disaster has a name.</p>
<section id="hurricane-helene" class="level2">
<h2 class="anchored" data-anchor-id="hurricane-helene">Hurricane Helene</h2>
<p>On Friday I woke up pleasantly surprised to find my power was on. Over 10% of my fellow Floridians – more than a million people – were not so fortunate. At least one was dead with the total toll continually rising.</p>
<section id="nothing-to-be-done" class="level3">
<h3 class="anchored" data-anchor-id="nothing-to-be-done">Nothing to be done?</h3>
<p>I took <a href="../../posts/murphy/index.html">Murphy</a> and <a href="../../posts/nix/index.html">Nix</a> on our usual walk to the dog park. Unusually nobody else was there. Had they lost power? Had fallen trees blocked their driveways? Did they have to deal with damage to their cars? Their homes? I didn’t know and at least in some sense did not care. I was content my house was undamaged. A large tree branch almost landed on my car’s windshield but missed by a foot. It was like any other cloudy morning with a slight drizzle. Disaster and death happen all over the world every day and life goes on.</p>
<p>But it’s not like I can’t empathize with hurricane victims.</p>
<blockquote class="blockquote">
<p>Les deux soleils sont levés</p>
<p>Comme chaque matin, j’ai d’la chance</p>
<p>J’ai mes deux reins et j’suis vivante</p>
<p>Toujours ensemble pour la journée</p>
<p>Toujours</p>
<p>Toujours</p>
</blockquote>
</section>
</section>
<section id="hurricane-harvey" class="level2">
<h2 class="anchored" data-anchor-id="hurricane-harvey">Hurricane Harvey</h2>
<p>Years ago a different “H” hurricane hit Houston. I had driven back to Houston from Florida to start my senior year of college alongside my three housemates. We rented a unit in a duplex located between a convent and a cell phone tower. Three of us had lived together in the same house the prior year with the fourth housemate choosing to instead live with his girlfriend for their senior year. Our new fourth housemate was a friend of mine since freshman year, we’ll call him Max for this story.</p>
<p>Harvey approached Houston the first weekend of the semester. Flooding was expected. We were concerned about our cars. Max had parked his car in a friend’s apartment complex’s elevated parking garage but it got towed as the edge of the hurricane moved over the city. This was annoying. The four of us, all in it together from the beginning, all drove out to the tow yard in the early hours of the storm. We got Max’s car back, he parked somewhere else, and we all returned to the house to wait out the rest of it together.</p>
<section id="nothing-to-be-done-1" class="level3">
<h3 class="anchored" data-anchor-id="nothing-to-be-done-1">Nothing to be done</h3>
<p>The house quickly flooded. We moved everything we could to the second floor and elevated the one car still in the driveway. The power went out but we tried to enjoy ourselves. We grilled, we ate, we drank, we played Monopoly, and we had a pretty good time all things considered.</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dkdc.dev/posts/on-hurricanes/grill.JPG" class="img-fluid figure-img"></p>
<figcaption>Grill setup</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dkdc.dev/posts/on-hurricanes/post_grill.png" class="img-fluid figure-img"></p>
<figcaption>Post-grill chilling</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>After a few days we made the decision to flee to campus. Campus had power and the floodwaters seemed low enough. We hopped in the car and drove off. As we were nearing campus the streets were still flooded and it was raining hard. We saw two idiots on foot struggling against the storm toward campus with their suitcases. As we got closer we realized they were our former fourth housemate and his girlfriend! We drove by splashing them with water and yelling insults as we passed.</p>
<p>Just kidding, they piled into the already crowded sedan with their additional luggage and we all made it to campus safely. I stayed in my former roommate’s double sleeping on their remarkably uncomfortable couch.</p>
<blockquote class="blockquote">
<p>À l’ibis loin, loin d’ici</p>
<p>Efizio se promène</p>
<p>Dans les plaines du Mont Sacré</p>
<p>Sur la digue, il se ligue</p>
<p>Pour la guilde de Guido le guide</p>
<p>Il rejoint l’Anatole</p>
<p>Fils du duc Opozode</p>
</blockquote>
</section>
<section id="the-aftermath" class="level3">
<h3 class="anchored" data-anchor-id="the-aftermath">The aftermath</h3>
<p>We were all looking forward to our senior year living in the house but when we were able to make it back and take a look it wasn’t looking great. A contractor estimating repairs summed it up as:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dkdc.dev/posts/on-hurricanes/fuck.png" class="img-fluid figure-img"></p>
<figcaption>FUCK!</figcaption>
</figure>
</div>
<p>Indeed.</p>
<p>We initially did our best to help out:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><video src="hammer_time.mp4" class="img-fluid" controls=""><a href="hammer_time.mp4">Video</a></video></p>
<figcaption>Hammer time</figcaption>
</figure>
</div>
<p>But over time the new reality set in. The decision was made after a fairly conclusive mold test:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dkdc.dev/posts/on-hurricanes/mold.png" class="img-fluid figure-img"></p>
<figcaption>Mold test</figcaption>
</figure>
</div>
<p>Our house was not livable. Our landlord disagreed, claiming we had broken the lease and demanding we pay rent for the full year – a small fortune to ask of poor college students who still had to find and pay for alternative housing. He yelled, threatened, threatened legal action, and left nasty texts and voicemails on my phone. Fortunately he only made idle threats – he was not a serious person. Had he pursued anything we had the support of each other and our community.</p>
</section>
<section id="the-community" class="level3">
<h3 class="anchored" data-anchor-id="the-community">The community</h3>
<p>We were far from alone in our suffering. Many people in Houston and other areas were in similar or far worse situations as myself and my housemates. Many other students lost their housing too.</p>
<p>Efforts by communities were organized including one to house displaced college students. One of my housemates was insistent on applying and within a few weeks we all moved in with a nice couple in a nice neighborhood near campus. Their younger daughter was a freshman at our college and their older daughter coincidentally worked at Microsoft. While we still missed our house and were sad about the situation affecting our senior year we were grateful for the help – I was grateful to have a bed to sleep in again.</p>
<p>We also got to play with and help raise their adorable foster puppies:</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dkdc.dev/posts/on-hurricanes/puppies1.JPG" class="img-fluid figure-img"></p>
<figcaption>Puppies</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dkdc.dev/posts/on-hurricanes/puppies2.JPG" class="img-fluid figure-img"></p>
<figcaption>Puppies</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="microsoft-the-hurricane-job" class="level3">
<h3 class="anchored" data-anchor-id="microsoft-the-hurricane-job">Microsoft, the hurricane job</h3>
<p>I distinctly remember lying on that awful couch reading the email from a Microsoft recruiter: I was invited for a final round interview loop in Redmond, WA. I had applied and interviewed for an internship the previous year resulting in a “deferred” status. I had not been rejected but they had filled all open internships and said they would reach out next year about opportunities. And they did!</p>
<p>While living with the nice couple I was flown out to Seattle and stayed in a fancy hotel. I spent a day at the recruiting building on the main campus completing interviews with my future teammates and manager. It’d take some time to find out I had an offer but not too long after Hurricane Harvey seemingly upended my life I had a job after college. My dream job working where I wanted to on what I wanted to.</p>
</section>
<section id="murphy-the-hurricane-dog" class="level3">
<h3 class="anchored" data-anchor-id="murphy-the-hurricane-dog">Murphy, the hurricane dog</h3>
<p>After some time with the nice couple my housemates and I wanted to live on our own again. We ended up renting an apartment near campus. It wasn’t our house but it was ours for the rest of senior year.</p>
<p>With a job secured and my living situation clarified I decided to adopt a dog. I went to the local shelter with a housemate and found Murphy. She was the most scared dog in the shelter but I knew she was the one.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dkdc.dev/posts/on-hurricanes/murphy.png" class="img-fluid figure-img"></p>
<figcaption>Murphy the dog</figcaption>
</figure>
</div>
<p>Murphy was rescued in Galveston, TX, likely displaced during Hurricane Harvey. She was clearly abused but has lived a happy (if not spoiled) life since adoption. She’s been my best friend for approaching seven years.</p>
</section>
</section>
<section id="horrors-and-hope-ahead" class="level2">
<h2 class="anchored" data-anchor-id="horrors-and-hope-ahead">Horrors and hope ahead</h2>
<p>Things tend to work out over time.</p>
<section id="something-to-be-done" class="level3">
<h3 class="anchored" data-anchor-id="something-to-be-done">Something to be done?</h3>
<p>Still it’s frustrating how little we do about hurricanes given how much we know about them. If you live in Florida you’re likely to experience one every year. We can predict when in the year they will happen. We can watch them from above. We can predict the path they will take. We can predict expected damages and loss of life. We can predict we’ll continue having more “historic” hurricanes at an alarming rate.</p>
<p>We have programs for dealing with the aftermath but little prevention. Our response is often reactionary and primitive given the technology available to us. We can’t stop hurricanes (?) but it seems like we could do a lot more to prevent the negative outcomes they cause if someone motivated (or rather incentivized) took the problem seriously. Capital, strategy, and execution. But what do we spend our resources and time on instead?</p>
<p>To be clear I haven’t helped anyone affected by Hurricane Helene. I haven’t donated my money. I haven’t volunteered my time. I haven’t offered anyone a place to stay. <a href="https://en.wikipedia.org/wiki/Famine,_Affluence,_and_Morality">Some would argue this is immoral</a> and, to a large extent, I’d agree. Yet it’s exhausting to care about every bad thing going on in the world. While technology has made it trivial to help people after disasters in most cases the disaster-recovery cycle tires.</p>
<blockquote class="blockquote">
<p>Écoute bien, cette musique a déjà fait plusieurs tours</p>
<p>Le mouvement se répète, il s’incruste dans ta tête</p>
<p>Tu voudrais le faire sortir, mais ça n’peut jamais finir</p>
<p>Tu commences à intégrer le rythme répétitif</p>
<p>Tu commences à intégrer le rythme répétitif</p>
<p>Le mouvement perpétuel quand tu revois le motif</p>
<p>Tu vas bientôt regretter, est-ce que ça valait le coup ?</p>
<p>Tu te poses des questions, n’écoutes que la musique</p>
</blockquote>
</section>
<section id="silver-linings" class="level3">
<h3 class="anchored" data-anchor-id="silver-linings">Silver linings</h3>
<p>After rain we can look for the silver linings. After Harvey I had Microsoft and Murphy.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dkdc.dev/posts/on-hurricanes/murphy_microsoft.JPEG" class="img-fluid figure-img"></p>
<figcaption>Murphy at Microsoft</figcaption>
</figure>
</div>
<p>I’ve been fortunate to have excellent communities around me at times of need. I could not be where I am today without my housemates, the nice couple, my friends, my family, and many others after Harvey.</p>
<p>Throughout life I’ve been lucky to have excellent advisors, mentors, managers, colleagues, and friends.</p>
</section>
<section id="whats-next" class="level3">
<h3 class="anchored" data-anchor-id="whats-next">What’s next?</h3>
<p>Life goes on. As I get a little older I realize life is about perspective. For me Hurricane Helene was just a rainy day. For others it will have effects for months and even years to come. I hope they find the support they need in their communities. I hope they find their silver linings. I hope one day I am in a better position to help others myself. I hope we can all do better to prevent such outcomes from predictable disasters in the future.</p>
<p>I did get to see this cool bird at the dog park on Friday:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dkdc.dev/posts/on-hurricanes/bird.png" class="img-fluid figure-img"></p>
<figcaption>bird</figcaption>
</figure>
</div>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>life</category>
  <guid>https://dkdc.dev/posts/on-hurricanes/</guid>
  <pubDate>Mon, 30 Sep 2024 00:00:00 GMT</pubDate>
  <media:content url="https://dkdc.dev/posts/on-hurricanes/fuck.png" medium="image" type="image/png" height="108" width="144"/>
</item>
<item>
  <title>Python + Rust: a simple tutorial</title>
  <dc:creator>Cody </dc:creator>
  <link>https://dkdc.dev/posts/pawz/</link>
  <description><![CDATA[ 





<p>This post is intended to provide a simple demonstration of a Python package that relies on core functionality written in Rust. You can <a href="https://github.com/lostmygithubaccount/pawz">view the source code on GitHub</a>.</p>
<section id="tools" class="level2">
<h2 class="anchored" data-anchor-id="tools">Tools</h2>
<p>In addition to Python and Rust, we’ll use the following tools:</p>
<ul>
<li><a href="https://github.com">GitHub</a>: repository hosting</li>
<li><a href="https://cli.github.com">GitHub CLI</a>: interact with GitHub from the command line</li>
<li><a href="https://github.com/casey/just">just</a>: a command runner</li>
<li><a href="https://github.com/jdx/mise">mise</a>: a tool for managing dev environments (Python/Rust versions)</li>
</ul>
<p>For generating and using Rust code in Python, we’ll use <a href="https://pyo3.rs/">PyO3</a>.</p>
</section>
<section id="setting-up-the-project" class="level2">
<h2 class="anchored" data-anchor-id="setting-up-the-project">Setting up the project</h2>
<p>We’ll start with an overview of the project setup.</p>
<section id="picking-a-name" class="level3">
<h3 class="anchored" data-anchor-id="picking-a-name">Picking a name</h3>
<p>We need a good name for our project. Ideally, this can match how the package on PyPI. I chose <code>pawz</code> because it was not taken, is short, and leans into what the demo package will do.</p>
</section>
<section id="layout" class="level3">
<h3 class="anchored" data-anchor-id="layout">Layout</h3>
<p>Let’s start by looking at the file tree for <code>pawz</code>:</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % tree</span>
<span id="cb1-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">./</span></span>
<span id="cb1-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> LICENSE</span>
<span id="cb1-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> dev-requirements.txt</span>
<span id="cb1-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> justfile</span>
<span id="cb1-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> pyproject.toml</span>
<span id="cb1-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> readme.md</span>
<span id="cb1-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> src/</span>
<span id="cb1-9">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> pawz/</span>
<span id="cb1-10">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">│&nbsp;&nbsp;</span> └── __init__.py</span>
<span id="cb1-11">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> pawz-core/</span>
<span id="cb1-12">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> Cargo.toml</span>
<span id="cb1-13">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> pyproject.toml</span>
<span id="cb1-14">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> readme.md</span>
<span id="cb1-15">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> src/</span>
<span id="cb1-16">            <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> lib.rs</span>
<span id="cb1-17">            <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> main.rs</span>
<span id="cb1-18"></span>
<span id="cb1-19"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5</span> directories, 11 files</span></code></pre></div>
<p>This setup is copied over from a private project, then modified to update the project name and reduce code to its minimal form.</p>
</section>
<section id="justfile" class="level3">
<h3 class="anchored" data-anchor-id="justfile">Justfile</h3>
<p>We can look at the <code>justfile</code> – <code>just</code> is a command runner – to get a sense of the things we will be doing:</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode txt code-with-copy"><code class="sourceCode default"><span id="cb2-1"># Justfile</span>
<span id="cb2-2"></span>
<span id="cb2-3"># load environment variables</span>
<span id="cb2-4">set dotenv-load</span>
<span id="cb2-5"></span>
<span id="cb2-6"># aliases</span>
<span id="cb2-7">alias fmt:=format</span>
<span id="cb2-8"></span>
<span id="cb2-9"># list justfile recipes</span>
<span id="cb2-10">default:</span>
<span id="cb2-11">    just --list</span>
<span id="cb2-12"></span>
<span id="cb2-13"># setup</span>
<span id="cb2-14">setup:</span>
<span id="cb2-15">    @pip install -r dev-requirements.txt</span>
<span id="cb2-16"></span>
<span id="cb2-17"># build</span>
<span id="cb2-18">build:</span>
<span id="cb2-19">    just clean</span>
<span id="cb2-20">    @python -m build src/pawz-core</span>
<span id="cb2-21">    @python -m build</span>
<span id="cb2-22"></span>
<span id="cb2-23"># format</span>
<span id="cb2-24">format:</span>
<span id="cb2-25">    @cargo fmt --manifest-path src/pawz-core/Cargo.toml</span>
<span id="cb2-26">    @ruff format .</span>
<span id="cb2-27"></span>
<span id="cb2-28"># install</span>
<span id="cb2-29">install:</span>
<span id="cb2-30">    @maturin dev -m src/pawz-core/Cargo.toml</span>
<span id="cb2-31">    @pip install --upgrade -e '.[all]'</span>
<span id="cb2-32"></span>
<span id="cb2-33"># uninstall</span>
<span id="cb2-34">uninstall:</span>
<span id="cb2-35">    @pip uninstall pawz pawz-core -y</span>
<span id="cb2-36"></span>
<span id="cb2-37"># release-test</span>
<span id="cb2-38">release-test:</span>
<span id="cb2-39">    just build</span>
<span id="cb2-40">    @twine upload --repository testpypi src/pawz-core/dist/* -u __token__ -p ${PYPI_TEST_TOKEN}</span>
<span id="cb2-41">    @twine upload --repository testpypi dist/* -u __token__ -p ${PYPI_TEST_TOKEN}</span>
<span id="cb2-42"></span>
<span id="cb2-43"># release</span>
<span id="cb2-44">release:</span>
<span id="cb2-45">    just build</span>
<span id="cb2-46">    @twine upload src/pawz-core/dist/* -u __token__ -p ${PYPI_TOKEN}</span>
<span id="cb2-47">    @twine upload dist/* -u __token__ -p ${PYPI_TOKEN}</span>
<span id="cb2-48"></span>
<span id="cb2-49"># clean</span>
<span id="cb2-50">clean:</span>
<span id="cb2-51">    @rm -r src/pawz-core/target || True</span>
<span id="cb2-52">    @rm -rf src/pawz-core/dist || True</span>
<span id="cb2-53">    @rm -rf dist || True</span></code></pre></div>
</section>
<section id="python-and-rust-sub-projects" class="level3">
<h3 class="anchored" data-anchor-id="python-and-rust-sub-projects">Python and Rust sub-projects</h3>
<p>You may have already noticed above we’re building and publishing two Python packages – <code>pawz</code> is a pure Python package that depends on <code>pawz-core</code>, a pure Rust package with Python bindings.</p>
<p>You can see the package definitions in the respective <code>pyproject.toml</code>s:</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Due to the website’s exquisite theme, you may not be able to tell that below are two separate tabs.</p>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" aria-controls="tabset-1-1" aria-selected="true"><code>pawz</code>: pure Python</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" aria-controls="tabset-1-2" aria-selected="false"><code>pawz-core</code>: pure Rust with Python bindings</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" aria-labelledby="tabset-1-1-tab">
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode toml code-with-copy"><code class="sourceCode toml"><span id="cb3-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[build-system]</span></span>
<span id="cb3-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">requires</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hatchling"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb3-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">build-backend</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hatchling.build"</span></span>
<span id="cb3-4"></span>
<span id="cb3-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[project]</span></span>
<span id="cb3-6"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">name</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pawz"</span></span>
<span id="cb3-7"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">version</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.1.0"</span></span>
<span id="cb3-8"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">authors</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[{ </span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">name</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Cody"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">, </span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">email</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cody@dkdc.dev"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> }]</span></span>
<span id="cb3-9"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">description</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"a demo of Python + Rust"</span></span>
<span id="cb3-10"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">readme</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"readme.md"</span></span>
<span id="cb3-11"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">requires-python</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&gt;=3.11"</span></span>
<span id="cb3-12"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">classifiers</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb3-13">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Programming Language :: Python :: 3"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-14">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"License :: OSI Approved :: MIT License"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-15">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Operating System :: OS Independent"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-16"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb3-17"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">dependencies</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pawz_core"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb3-18"></span>
<span id="cb3-19"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[project.urls]</span></span>
<span id="cb3-20"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"Homepage"</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://github.com/lostmygithubaccount/pawz"</span></span>
<span id="cb3-21"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"Bug Tracker"</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://github.com/lostmygithubaccount/pawz/issues"</span></span></code></pre></div>
</div>
<div id="tabset-1-2" class="tab-pane" aria-labelledby="tabset-1-2-tab">
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode toml code-with-copy"><code class="sourceCode toml"><span id="cb4-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[build-system]</span></span>
<span id="cb4-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">requires</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"maturin&gt;=1.5,&lt;2.0"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb4-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">build-backend</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"maturin"</span></span>
<span id="cb4-4"></span>
<span id="cb4-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[project]</span></span>
<span id="cb4-6"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">name</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pawz_core"</span></span>
<span id="cb4-7"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">dynamic</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"version"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb4-8"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">authors</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[{ </span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">name</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Cody"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">, </span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">email</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cody@dkdc.dev"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> }]</span></span>
<span id="cb4-9"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">description</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pawz core functionality (Rust!)"</span></span>
<span id="cb4-10"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">readme</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"readme.md"</span></span>
<span id="cb4-11"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">requires-python</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&gt;=3.11"</span></span>
<span id="cb4-12"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">classifiers</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb4-13">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Programming Language :: Python :: 3"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-14">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"License :: OSI Approved :: MIT License"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-15">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Operating System :: OS Independent"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-16"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb4-17"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">dependencies</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[]</span></span>
<span id="cb4-18"></span>
<span id="cb4-19"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[tool.maturin]</span></span>
<span id="cb4-20"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">features</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pyo3/extension-module"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb4-21"></span>
<span id="cb4-22"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[project.urls]</span></span>
<span id="cb4-23"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"Homepage"</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://github.com/lostmygithubaccount/pawz"</span></span>
<span id="cb4-24"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"Bug Tracker"</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://github.com/lostmygithubaccount/pawz/issues"</span></span></code></pre></div>
</div>
</div>
</div>
<p>You’ll notice the primary difference is the build tooling – <code>hatchling</code> for the pure-Python project versus <code>maturin</code> for the Rust project.</p>
<p>With <code>pawz-core</code>, the package version is specified in the <code>Cargo.toml</code> instead of the <code>pyproject.toml</code> – we’ll take a closer look at that later.</p>
</section>
<section id="pawz" class="level3">
<h3 class="anchored" data-anchor-id="pawz"><code>pawz</code></h3>
<p>Let’s setup our Python package <code>pawz</code> – to start, all you need is an <code>__init__.py</code> file in the correct subdirectory:</p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># imports</span></span>
<span id="cb5-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pawz_core <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pc</span>
<span id="cb5-3"></span>
<span id="cb5-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># exports</span></span>
<span id="cb5-5">__all__ <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pc"</span>]</span></code></pre></div>
<p>All we’re doing at this point is making <code>pawz_core</code> available as a module from <code>pawz</code>. So, we can do something like:</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pawz <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pz</span>
<span id="cb6-2"></span>
<span id="cb6-3">pz.pc.open_pawz()</span></code></pre></div>
<p>Where the <code>open_pawz()</code> method is defined in <code>pawz_core</code>. We haven’t done that yet, but will later.</p>
</section>
<section id="pawz-core" class="level3">
<h3 class="anchored" data-anchor-id="pawz-core"><code>pawz-core</code></h3>
<p>In addition to the <code>pyproject.toml</code> above, we need a <code>Cargo.toml</code> to define the Rust project:</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode toml code-with-copy"><code class="sourceCode toml"><span id="cb7-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[package]</span></span>
<span id="cb7-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">name</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pawz_core"</span></span>
<span id="cb7-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">version</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.1.0"</span></span>
<span id="cb7-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">edition</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021"</span></span>
<span id="cb7-5"></span>
<span id="cb7-6"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[lib]</span></span>
<span id="cb7-7"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">name</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pawz_core"</span></span>
<span id="cb7-8"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">crate-type</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cdylib"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb7-9"></span>
<span id="cb7-10"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[dependencies]</span></span>
<span id="cb7-11"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">pyo3</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.21.1"</span></span></code></pre></div>
<p>Notice the Python package’s version will match the version defined here.</p>
<p>We also need the <code>lib.rs</code> in the <code>src/</code> directory defining the functionality and exposing it through the Python bindings:</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode rust code-with-copy"><code class="sourceCode rust"><span id="cb8-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">use</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">pyo3::prelude::</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*;</span></span>
<span id="cb8-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">//use pyo3::exceptions::PyValueError;</span></span>
<span id="cb8-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">//use pyo3::types::PyTuple;</span></span>
<span id="cb8-4"></span>
<span id="cb8-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/// A Python module implemented in Rust.</span></span>
<span id="cb8-6"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">#[</span>pymodule<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb8-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">#[</span>allow<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">(</span>deprecated<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">)]</span></span>
<span id="cb8-8"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fn</span> pawz_core(_py<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> Python<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> _m<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>PyModule) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> PyResult<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>()<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb8-9">    <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">Ok</span>(())</span>
<span id="cb8-10"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p>Notice there’s nothing defined yet and a few things are commented out and prepended with an underscore to avoid the compiler complaining. However at this point, everything is fully functional – you can build <code>pawz-core</code> and <code>pawz</code> and import them.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What about the <code>main.rs</code>?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>As of writing, the <code>main.rs</code> is a simple hello world:</p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode rust code-with-copy"><code class="sourceCode rust"><span id="cb9-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fn</span> main() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb9-2">    <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">println!</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hello, world!"</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb9-3"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p>You don’t need the file, but I find it useful to easily try things out in Rust. For instance, you can import things from <code>lib.rs</code> and run them.</p>
</div>
</div>
</div>
</section>
</section>
<section id="setup-the-python-environment" class="level2">
<h2 class="anchored" data-anchor-id="setup-the-python-environment">Setup the Python environment</h2>
<p>Let’s take a look at the <code>dev-requirements.txt</code>:</p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode txt code-with-copy"><code class="sourceCode default"><span id="cb10-1"># python</span>
<span id="cb10-2">ruff</span>
<span id="cb10-3">build</span>
<span id="cb10-4">twine</span>
<span id="cb10-5"></span>
<span id="cb10-6"># rust</span>
<span id="cb10-7">maturin</span></code></pre></div>
<p><code>ruff</code> is to format Python code, <code>build</code> is to build the Python packages, <code>twine</code> is to upload them to PyPI, and <code>maturin</code> is to build the Rust package with Python bindings. You can see the use of these tools above in the <code>justfile</code>.</p>
<section id="setup-a-virtual-python-environment" class="level3">
<h3 class="anchored" data-anchor-id="setup-a-virtual-python-environment">Setup a virtual Python environment</h3>
<p>You should generally use one virtual environment per project. I use <code>mise</code> to manage Python (and Rust) versions, but you don’t have to. You can run:</p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % python <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-m</span> venv venv</span>
<span id="cb11-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % source venv/bin/activate</span></code></pre></div>
<p>to create your virtual environment. At this point if you’ve installed <code>just</code>, you can run:</p>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % just setup</span></code></pre></div>
<p>This will install the dev dependencies defined above.</p>
</section>
<section id="installing-pawz-and-pawz-core" class="level3">
<h3 class="anchored" data-anchor-id="installing-pawz-and-pawz-core">Installing <code>pawz</code> and <code>pawz-core</code></h3>
<p>You can install <code>pawz</code> and <code>pawz-core</code> in local developer mode with:</p>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % just install</span></code></pre></div>
<p>Now you’re able to <code>import pawz as pz</code>!</p>
</section>
</section>
<section id="uploading-to-github" class="level2">
<h2 class="anchored" data-anchor-id="uploading-to-github">Uploading to GitHub</h2>
<p>There are multiple ways to do this, but I prefer something like:</p>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % git init</span>
<span id="cb14-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % gh repo create pawz <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--public</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--source</span> .</span>
<span id="cb14-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % git checkout <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-b</span> main</span>
<span id="cb14-4"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % git add .</span>
<span id="cb14-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % git commit <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-m</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"initial commit"</span></span>
<span id="cb14-6"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % git push <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--set-upstream</span> origin/main</span></code></pre></div>
<p>Now, your code should be up on GitHub!</p>
</section>
<section id="publishing-to-pypi" class="level2">
<h2 class="anchored" data-anchor-id="publishing-to-pypi">Publishing to PyPI</h2>
<p>Let’s publish <code>pawz</code> and <code>pawz-core</code> to PyPI. First, you need to generate and place PyPI tokens in a <code>.env</code> file:</p>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode txt code-with-copy"><code class="sourceCode default"><span id="cb15-1">PYPI_TOKEN = "pypi-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"</span>
<span id="cb15-2">PYPI_TEST_TOKEN = "pypi-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"</span></code></pre></div>
<p>Then run:</p>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % just release-test</span>
<span id="cb16-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % just release</span></code></pre></div>
</section>
<section id="doing-something" class="level2">
<h2 class="anchored" data-anchor-id="doing-something">Doing something</h2>
<p>Now, let’s do something! We’ll write some core functionality in Rust. For this demonstration, we’ll just open up a hardcoded URL pointing to a YouTube video.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the <code>pyproject.toml</code> and <code>Cargo.toml</code> we should bump the version up so we can ship a new version later.</p>
</div>
</div>
</section>
<section id="rust-edits" class="level2">
<h2 class="anchored" data-anchor-id="rust-edits">Rust edits</h2>
<p>We need to add the <code>open</code> crate dependency in the <code>Cargo.toml</code>:</p>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode toml code-with-copy"><code class="sourceCode toml"><span id="cb17-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[package]</span></span>
<span id="cb17-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">name</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pawz_core"</span></span>
<span id="cb17-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">version</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.2.0"</span></span>
<span id="cb17-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">edition</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021"</span></span>
<span id="cb17-5"></span>
<span id="cb17-6"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[lib]</span></span>
<span id="cb17-7"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">name</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pawz_core"</span></span>
<span id="cb17-8"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">crate-type</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cdylib"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb17-9"></span>
<span id="cb17-10"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[dependencies]</span></span>
<span id="cb17-11"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">pyo3</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.21.1"</span></span>
<span id="cb17-12"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">open</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"5.1.2"</span></span></code></pre></div>
<p>Then edit <code>lib.rs</code> to create our function and add it to the Python module:</p>
<div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode rust code-with-copy"><code class="sourceCode rust"><span id="cb18-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">use</span> open<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb18-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">use</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">pyo3::prelude::</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*;</span></span>
<span id="cb18-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">//use pyo3::exceptions::PyValueError;</span></span>
<span id="cb18-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">//use pyo3::types::PyTuple;</span></span>
<span id="cb18-5"></span>
<span id="cb18-6"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">#[</span>pyfunction<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb18-7"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fn</span> open_pawz() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb18-8">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">let</span> url <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.youtube.com/watch?v=gJ6slhwPp6E"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb18-9">    <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">open::</span>that(url)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>unwrap()<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb18-10"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb18-11"></span>
<span id="cb18-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/// A Python module implemented in Rust.</span></span>
<span id="cb18-13"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">#[</span>pymodule<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb18-14"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">#[</span>allow<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">(</span>deprecated<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">)]</span></span>
<span id="cb18-15"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fn</span> pawz_core(_py<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> Python<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> m<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>PyModule) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> PyResult<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>()<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb18-16">    m<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>add_function(<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">wrap_pyfunction!</span>(open_pawz<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> m)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">?</span>)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">?;</span></span>
<span id="cb18-17">    <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">Ok</span>(())</span>
<span id="cb18-18"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p>Now if you <code>import pawz_core</code>, you can run <code>pawz_core.open_pawz()</code> from Python!</p>
<section id="python-edits" class="level3">
<h3 class="anchored" data-anchor-id="python-edits">Python edits</h3>
<p>No edits to Python are needed – since <code>pawz_core</code> is available from <code>pawz</code>, we can just call <code>pawz.pawz_core.open_pawz()</code>. You might want something different, i.e.&nbsp;to abstract away the core library code, but this is fine for demonstration purposes.</p>
</section>
<section id="git-workflow" class="level3">
<h3 class="anchored" data-anchor-id="git-workflow">Git workflow</h3>
<p>First, we’ll check what we changed:</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>I changed a bit more when I actually did this, reflected in some of the output below.</p>
</div>
</div>
<div class="sourceCode" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % git status</span>
<span id="cb19-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">On</span> branch main</span>
<span id="cb19-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Your</span> branch is up to date with <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'origin/main'</span>.</span>
<span id="cb19-4"></span>
<span id="cb19-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Changes</span> not staged for commit:</span>
<span id="cb19-6">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">use</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"git add &lt;file&gt;..."</span> to update what will be committed<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb19-7">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">use</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"git restore &lt;file&gt;..."</span> to discard changes in working directory<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb19-8">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">modified:</span>   pyproject.toml</span>
<span id="cb19-9">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">modified:</span>   src/pawz-core/Cargo.toml</span>
<span id="cb19-10">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">modified:</span>   src/pawz-core/src/lib.rs</span>
<span id="cb19-11">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">modified:</span>   src/pawz/__init__.py</span>
<span id="cb19-12"></span>
<span id="cb19-13"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">no</span> changes added to commit <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">use</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"git add"</span> and/or <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"git commit -a"</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span></code></pre></div>
<p>Checkout a branch to commit our changes to:</p>
<div class="sourceCode" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % git checkout <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-b</span> add-something</span>
<span id="cb20-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Switched</span> to a new branch <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'add-something'</span></span></code></pre></div>
<p>Ensure we format our code (Rust and Python):</p>
<div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % just fmt</span>
<span id="cb21-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">1</span> file left unchanged</span></code></pre></div>
<p>Add our changes and commit them:</p>
<div class="sourceCode" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % git add .</span>
<span id="cb22-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % git commit <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-m</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"add something"</span></span>
<span id="cb22-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[add-something</span> 3e8727d] add something</span>
<span id="cb22-4"> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">4</span> files changed, 17 insertions<span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">+</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">,</span> 5 deletions<span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span></code></pre></div>
<p>Then create a PR on GitHub:</p>
<div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % gh pr create</span>
<span id="cb23-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">?</span> Where should we push the <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'add-something'</span> branch<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">?</span> lostmygithubaccount/pawz</span>
<span id="cb23-3"></span>
<span id="cb23-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Creating</span> pull request for add-something into main in lostmygithubaccount/pawz</span>
<span id="cb23-5"></span>
<span id="cb23-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">?</span> Title add something</span>
<span id="cb23-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">?</span> Body <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>Received<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span>
<span id="cb23-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">?</span> What<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'s next? Submit</span></span>
<span id="cb23-9"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">remote:</span></span>
<span id="cb23-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">remote:</span></span>
<span id="cb23-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">To https://github.com/lostmygithubaccount/pawz.git</span></span>
<span id="cb23-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> * [new branch]      HEAD -&gt; add-something</span></span>
<span id="cb23-13"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">branch '</span>add-something<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">' set up to track '</span>origin/add-something<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'.</span></span>
<span id="cb23-14"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">https://github.com/lostmygithubaccount/pawz/pull/1</span></span></code></pre></div>
<p>And finally, merge the PR from the CLI:</p>
<div class="sourceCode" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % gh pr merge</span>
<span id="cb24-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Merging</span> pull request lostmygithubaccount/pawz#1 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">add</span> something<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb24-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">?</span> What merge method would you like to use<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">?</span> Squash and merge</span>
<span id="cb24-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">?</span> Delete the branch locally and on GitHub<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">?</span> Yes</span>
<span id="cb24-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">?</span> What<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'s next? Submit</span></span>
<span id="cb24-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">✓ Squashed and merged pull request lostmygithubaccount/pawz#1 (add something)</span></span>
<span id="cb24-7"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">remote: Enumerating objects: 19, done.</span></span>
<span id="cb24-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">remote: Counting objects: 100% (19/19), done.</span></span>
<span id="cb24-9"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">remote: Compressing objects: 100% (6/6), done.</span></span>
<span id="cb24-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">remote: Total 10 (delta 3), reused 9 (delta 3), pack-reused 0</span></span>
<span id="cb24-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Unpacking objects: 100% (10/10), 1.72 KiB | 586.00 KiB/s, done.</span></span>
<span id="cb24-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">From https://github.com/lostmygithubaccount/pawz</span></span>
<span id="cb24-13"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> * branch            main       -&gt; FETCH_HEAD</span></span>
<span id="cb24-14"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">   a866fd3..318bd89  main       -&gt; origin/main</span></span>
<span id="cb24-15"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Updating a866fd3..318bd89</span></span>
<span id="cb24-16"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Fast-forward</span></span>
<span id="cb24-17"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> pyproject.toml           |  2 +-</span></span>
<span id="cb24-18"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> src/pawz-core/Cargo.toml |  3 ++-</span></span>
<span id="cb24-19"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> src/pawz-core/src/lib.rs | 10 +++++++++-</span></span>
<span id="cb24-20"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> src/pawz/__init__.py     |  7 +++++--</span></span>
<span id="cb24-21"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> 4 files changed, 17 insertions(+), 5 deletions(-)</span></span>
<span id="cb24-22"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">✓ Deleted local branch add-something and switched to branch main</span></span>
<span id="cb24-23"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">✓ Deleted remote branch add-something</span></span></code></pre></div>
<p>Now our source code is updated. You can <a href="https://github.com/lostmygithubaccount/pawz/pull/1">view this PR here, including the files changed</a>.</p>
</section>
</section>
<section id="updating-on-pypi" class="level2">
<h2 class="anchored" data-anchor-id="updating-on-pypi">Updating on PyPI</h2>
<p>With our code updated, we want to update our packages on PyPI. We simply run:</p>
<div class="sourceCode" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">venv</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cody@dkdc</span> pawz % just release</span></code></pre></div>
<p>as before, shipping the new version that does something!</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>I hope this is helpful to someone setting up a Python package with core functionality written in Rust. Of course, there are many ways to do this but I find the above fairly clean.</p>


</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>Python</category>
  <category>Rust</category>
  <guid>https://dkdc.dev/posts/pawz/</guid>
  <pubDate>Sun, 28 Apr 2024 00:00:00 GMT</pubDate>
  <media:content url="https://dkdc.dev/posts/pawz/thumbnail.png" medium="image" type="image/png" height="130" width="144"/>
</item>
<item>
  <title>quoting Simon Willison quoting Andrej Karpathy</title>
  <dc:creator>Cody </dc:creator>
  <link>https://dkdc.dev/posts/quoting-simon-willison-quoting-andrej-karpathy/</link>
  <description><![CDATA[ 





<blockquote class="blockquote">
<blockquote class="blockquote">
<p>Looking at LLMs as chatbots is the same as looking at early computers as calculators. We’re seeing an emergence of a whole new computing paradigm, and it is very early.</p>
<p>— <a href="https://twitter.com/karpathy/status/1707437820045062561">Andrej Karpathy</a></p>
</blockquote>
<p>- <a href="https://simonwillison.net/2023/Sep/28/andrej-karpathy/">Simon Willison</a></p>
</blockquote>



<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>ai</category>
  <guid>https://dkdc.dev/posts/quoting-simon-willison-quoting-andrej-karpathy/</guid>
  <pubDate>Thu, 28 Sep 2023 00:00:00 GMT</pubDate>
</item>
<item>
  <title>beware the metagame</title>
  <dc:creator>Amjad Masad</dc:creator>
  <link>https://dkdc.dev/posts/beware-the-metagame/</link>
  <description><![CDATA[ 





<p><a href="https://amasad.me/meta">https://amasad.me/meta</a></p>
<blockquote class="blockquote">
<p>I’ve first noticed this problem in the startup world where you see famous people that sell books, talk at conferences, and tweet advice to founders, but when you take a closer look, they’ve never done much founding themselves. They’re like the “entrepreneurship” professor that never built a business. They’re experts in the metagame – they’re polished speakers, engaging writers, and thought-leadering tweeters. The problem, though, is that they’re not judged by customers, the market, or nature, instead they’re judged by their peers. I call them metapreneurs.</p>
<p>This is an instance of what Nassim Taleb calls “The Expert Problem” – when other experts and meta-experts judge experts. Eventually the lack of contact with reality will corrupt the field. In the sciences, that lead to the replication crisis and the absurdities of the humanities.</p>
<p>If you find yourself going to a lot of conferences, opining too much on the latest fad in your field, and talking more about doing the thing than doing the job itself, then you, my friend, are getting sucked into the metagame.</p>
</blockquote>



<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>meta</category>
  <guid>https://dkdc.dev/posts/beware-the-metagame/</guid>
  <pubDate>Mon, 11 Sep 2023 00:00:00 GMT</pubDate>
</item>
<item>
  <title>context length pain pt2</title>
  <dc:creator>Cody </dc:creator>
  <link>https://dkdc.dev/posts/context-length-pain-pt2/</link>
  <description><![CDATA[ 





<p>The bane of my existence:</p>
<blockquote class="blockquote">
<p>InvalidRequestError: This model’s maximum context length is 32768 tokens. However, you requested 33013 tokens (31413 in the messages, 1600 in the completion). Please reduce the length of the messages or completion.</p>
</blockquote>
<p>Somebody please give me GPT5-64k access.</p>
<p>See <a href="../../posts/context-length-pain">part 1</a>.</p>



<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>ai</category>
  <guid>https://dkdc.dev/posts/context-length-pain-pt2/</guid>
  <pubDate>Wed, 16 Aug 2023 00:00:00 GMT</pubDate>
  <media:content url="https://dkdc.dev/posts/context-length-pain-pt2/thumbnail.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>context length pain</title>
  <dc:creator>Cody </dc:creator>
  <link>https://dkdc.dev/posts/context-length-pain/</link>
  <description><![CDATA[ 





<p>The bane of my existence:</p>
<blockquote class="blockquote">
<p>InvalidRequestError: This model’s maximum context length is 16385 tokens. However, your messages resulted in 28737 tokens. Please reduce the length of the messages.</p>
</blockquote>
<p>Somebody please give me GPT4-32k access.</p>
<p><strong>Updates:</strong> See <a href="../../posts/context-length-pain-pt2">part 2</a>.</p>



<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>ai</category>
  <guid>https://dkdc.dev/posts/context-length-pain/</guid>
  <pubDate>Sun, 13 Aug 2023 00:00:00 GMT</pubDate>
  <media:content url="https://dkdc.dev/posts/context-length-pain/thumbnail.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>I redid my website again…</title>
  <dc:creator>Cody </dc:creator>
  <link>https://dkdc.dev/posts/website/</link>
  <description><![CDATA[ 





<p>I mean, why not at this point…</p>
<p><a href="https://quarto.org">Quarto</a> is nice!</p>



<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>news</category>
  <guid>https://dkdc.dev/posts/website/</guid>
  <pubDate>Sat, 05 Aug 2023 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Nix the dog</title>
  <dc:creator>Cody </dc:creator>
  <link>https://dkdc.dev/posts/nix/</link>
  <description><![CDATA[ 





<p>Nix the dog. Short for “Phoenix”, no relation to the OS/package manager.</p>
<p><img src="https://dkdc.dev/posts/nix/nix2.jpeg" class="img-fluid"> <img src="https://dkdc.dev/posts/nix/nix3.jpeg" class="img-fluid"> <img src="https://dkdc.dev/posts/nix/nix4.jpeg" class="img-fluid"></p>



<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>dogs</category>
  <category>life</category>
  <guid>https://dkdc.dev/posts/nix/</guid>
  <pubDate>Sat, 01 Apr 2023 00:00:00 GMT</pubDate>
  <media:content url="https://dkdc.dev/posts/nix/nix1.jpeg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Murphy the dog</title>
  <dc:creator>Cody </dc:creator>
  <link>https://dkdc.dev/posts/murphy/</link>
  <description><![CDATA[ 





<p>Murphy the dog.</p>
<p><img src="https://dkdc.dev/posts/murphy/murphy1.jpeg" class="img-fluid"> <img src="https://dkdc.dev/posts/murphy/murphy2.jpeg" class="img-fluid"> <img src="https://dkdc.dev/posts/murphy/murphy3.jpeg" class="img-fluid"></p>



<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>dogs</category>
  <category>life</category>
  <guid>https://dkdc.dev/posts/murphy/</guid>
  <pubDate>Wed, 18 Oct 2017 00:00:00 GMT</pubDate>
  <media:content url="https://dkdc.dev/posts/murphy/murphy1.jpeg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>testing</title>
  <dc:creator>Cody </dc:creator>
  <link>https://dkdc.dev/posts/testing/</link>
  <description><![CDATA[ 





<p>Testing in soon-to-be-past.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>If not rendered properly, <a href="../../posts/testing/index.html">view on dkdc.dev</a>.</p>
</div>
</div>
<p>Some Python code:</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> ibis</span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> ibis.selectors <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> s</span>
<span id="cb1-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> plotly.io <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pio</span>
<span id="cb1-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> plotly.express <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> px</span>
<span id="cb1-5"></span>
<span id="cb1-6"></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># configuration</span></span>
<span id="cb1-8">pio.templates.default <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"plotly_dark"</span></span>
<span id="cb1-9">ibis.options.interactive <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span></span>
<span id="cb1-10"></span>
<span id="cb1-11">t <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ibis.examples.penguins.fetch()</span>
<span id="cb1-12">t</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━┓
┃<span style="font-weight: bold"> species </span>┃<span style="font-weight: bold"> island    </span>┃<span style="font-weight: bold"> bill_length_mm </span>┃<span style="font-weight: bold"> bill_depth_mm </span>┃<span style="font-weight: bold"> flipper_length_mm </span>┃<span style="font-weight: bold"> body_mass_g </span>┃<span style="font-weight: bold"> sex    </span>┃<span style="font-weight: bold"> year  </span>┃
┡━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>  │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>    │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>        │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>       │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>             │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>       │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │
├─────────┼───────────┼────────────────┼───────────────┼───────────────────┼─────────────┼────────┼───────┤
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">39.1</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.7</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">181</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3750</span> │ <span style="color: #008000; text-decoration-color: #008000">male  </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">39.5</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">17.4</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">186</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3800</span> │ <span style="color: #008000; text-decoration-color: #008000">female</span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">40.3</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.0</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">195</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3250</span> │ <span style="color: #008000; text-decoration-color: #008000">female</span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │            <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">nan</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">nan</span> │              <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span> │        <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>   │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">36.7</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">19.3</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">193</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3450</span> │ <span style="color: #008000; text-decoration-color: #008000">female</span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">39.3</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">20.6</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">190</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3650</span> │ <span style="color: #008000; text-decoration-color: #008000">male  </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">38.9</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">17.8</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">181</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3625</span> │ <span style="color: #008000; text-decoration-color: #008000">female</span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">39.2</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">19.6</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">195</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4675</span> │ <span style="color: #008000; text-decoration-color: #008000">male  </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">34.1</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.1</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">193</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3475</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>   │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">42.0</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">20.2</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">190</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4250</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">NULL</span>   │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span>       │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span>         │              <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │             <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │                 <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │           <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span>      │     <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │
└─────────┴───────────┴────────────────┴───────────────┴───────────────────┴─────────────┴────────┴───────┘
</pre>
</div>
</div>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">t.group_by(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"species"</span>).agg(ibis._.count().name(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"count"</span>))</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━┳━━━━━━━┓
┃<span style="font-weight: bold"> species   </span>┃<span style="font-weight: bold"> count </span>┃
┡━━━━━━━━━━━╇━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>    │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │
├───────────┼───────┤
│ <span style="color: #008000; text-decoration-color: #008000">Adelie   </span> │   <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">152</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Gentoo   </span> │   <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">124</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Chinstrap</span> │    <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">68</span> │
└───────────┴───────┘
</pre>
</div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1">t[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"species"</span>].topk(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> species   </span>┃<span style="font-weight: bold"> Count(species) </span>┃
┡━━━━━━━━━━━╇━━━━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>    │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>          │
├───────────┼────────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">Adelie   </span> │            <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">152</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Gentoo   </span> │            <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">124</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Chinstrap</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">68</span> │
└───────────┴────────────────┘
</pre>
</div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">px.scatter(t, title<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"penguins"</span>, x<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bill_length_mm"</span>, y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bill_depth_mm"</span>, color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"species"</span>)</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="d62dc0b2-e924-448e-aee9-c19cd1cfc286" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d62dc0b2-e924-448e-aee9-c19cd1cfc286")) {                    Plotly.newPlot(                        "d62dc0b2-e924-448e-aee9-c19cd1cfc286",                        [{"hovertemplate":"species=Adelie\u003cbr\u003ebill_length_mm=%{x}\u003cbr\u003ebill_depth_mm=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Adelie","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers","name":"Adelie","orientation":"v","showlegend":true,"x":[39.1,39.5,40.3,null,36.7,39.3,38.9,39.2,34.1,42.0,37.8,37.8,41.1,38.6,34.6,36.6,38.7,42.5,34.4,46.0,37.8,37.7,35.9,38.2,38.8,35.3,40.6,40.5,37.9,40.5,39.5,37.2,39.5,40.9,36.4,39.2,38.8,42.2,37.6,39.8,36.5,40.8,36.0,44.1,37.0,39.6,41.1,37.5,36.0,42.3,39.6,40.1,35.0,42.0,34.5,41.4,39.0,40.6,36.5,37.6,35.7,41.3,37.6,41.1,36.4,41.6,35.5,41.1,35.9,41.8,33.5,39.7,39.6,45.8,35.5,42.8,40.9,37.2,36.2,42.1,34.6,42.9,36.7,35.1,37.3,41.3,36.3,36.9,38.3,38.9,35.7,41.1,34.0,39.6,36.2,40.8,38.1,40.3,33.1,43.2,35.0,41.0,37.7,37.8,37.9,39.7,38.6,38.2,38.1,43.2,38.1,45.6,39.7,42.2,39.6,42.7,38.6,37.3,35.7,41.1,36.2,37.7,40.2,41.4,35.2,40.6,38.8,41.5,39.0,44.1,38.5,43.1,36.8,37.5,38.1,41.1,35.6,40.2,37.0,39.7,40.2,40.6,32.1,40.7,37.3,39.0,39.2,36.6,36.0,37.8,36.0,41.5],"xaxis":"x","y":[18.7,17.4,18.0,null,19.3,20.6,17.8,19.6,18.1,20.2,17.1,17.3,17.6,21.2,21.1,17.8,19.0,20.7,18.4,21.5,18.3,18.7,19.2,18.1,17.2,18.9,18.6,17.9,18.6,18.9,16.7,18.1,17.8,18.9,17.0,21.1,20.0,18.5,19.3,19.1,18.0,18.4,18.5,19.7,16.9,18.8,19.0,18.9,17.9,21.2,17.7,18.9,17.9,19.5,18.1,18.6,17.5,18.8,16.6,19.1,16.9,21.1,17.0,18.2,17.1,18.0,16.2,19.1,16.6,19.4,19.0,18.4,17.2,18.9,17.5,18.5,16.8,19.4,16.1,19.1,17.2,17.6,18.8,19.4,17.8,20.3,19.5,18.6,19.2,18.8,18.0,18.1,17.1,18.1,17.3,18.9,18.6,18.5,16.1,18.5,17.9,20.0,16.0,20.0,18.6,18.9,17.2,20.0,17.0,19.0,16.5,20.3,17.7,19.5,20.7,18.3,17.0,20.5,17.0,18.6,17.2,19.8,17.0,18.5,15.9,19.0,17.6,18.3,17.1,18.0,17.9,19.2,18.5,18.5,17.6,17.5,17.5,20.1,16.5,17.9,17.1,17.2,15.5,17.0,16.8,18.7,18.6,18.4,17.8,18.1,17.1,18.5],"yaxis":"y","type":"scatter"},{"hovertemplate":"species=Gentoo\u003cbr\u003ebill_length_mm=%{x}\u003cbr\u003ebill_depth_mm=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Gentoo","marker":{"color":"#EF553B","symbol":"circle"},"mode":"markers","name":"Gentoo","orientation":"v","showlegend":true,"x":[46.1,50.0,48.7,50.0,47.6,46.5,45.4,46.7,43.3,46.8,40.9,49.0,45.5,48.4,45.8,49.3,42.0,49.2,46.2,48.7,50.2,45.1,46.5,46.3,42.9,46.1,44.5,47.8,48.2,50.0,47.3,42.8,45.1,59.6,49.1,48.4,42.6,44.4,44.0,48.7,42.7,49.6,45.3,49.6,50.5,43.6,45.5,50.5,44.9,45.2,46.6,48.5,45.1,50.1,46.5,45.0,43.8,45.5,43.2,50.4,45.3,46.2,45.7,54.3,45.8,49.8,46.2,49.5,43.5,50.7,47.7,46.4,48.2,46.5,46.4,48.6,47.5,51.1,45.2,45.2,49.1,52.5,47.4,50.0,44.9,50.8,43.4,51.3,47.5,52.1,47.5,52.2,45.5,49.5,44.5,50.8,49.4,46.9,48.4,51.1,48.5,55.9,47.2,49.1,47.3,46.8,41.7,53.4,43.3,48.1,50.5,49.8,43.5,51.5,46.2,55.1,44.5,48.8,47.2,null,46.8,50.4,45.2,49.9],"xaxis":"x","y":[13.2,16.3,14.1,15.2,14.5,13.5,14.6,15.3,13.4,15.4,13.7,16.1,13.7,14.6,14.6,15.7,13.5,15.2,14.5,15.1,14.3,14.5,14.5,15.8,13.1,15.1,14.3,15.0,14.3,15.3,15.3,14.2,14.5,17.0,14.8,16.3,13.7,17.3,13.6,15.7,13.7,16.0,13.7,15.0,15.9,13.9,13.9,15.9,13.3,15.8,14.2,14.1,14.4,15.0,14.4,15.4,13.9,15.0,14.5,15.3,13.8,14.9,13.9,15.7,14.2,16.8,14.4,16.2,14.2,15.0,15.0,15.6,15.6,14.8,15.0,16.0,14.2,16.3,13.8,16.4,14.5,15.6,14.6,15.9,13.8,17.3,14.4,14.2,14.0,17.0,15.0,17.1,14.5,16.1,14.7,15.7,15.8,14.6,14.4,16.5,15.0,17.0,15.5,15.0,13.8,16.1,14.7,15.8,14.0,15.1,15.2,15.9,15.2,16.3,14.1,16.0,15.7,16.2,13.7,null,14.3,15.7,14.8,16.1],"yaxis":"y","type":"scatter"},{"hovertemplate":"species=Chinstrap\u003cbr\u003ebill_length_mm=%{x}\u003cbr\u003ebill_depth_mm=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Chinstrap","marker":{"color":"#00cc96","symbol":"circle"},"mode":"markers","name":"Chinstrap","orientation":"v","showlegend":true,"x":[46.5,50.0,51.3,45.4,52.7,45.2,46.1,51.3,46.0,51.3,46.6,51.7,47.0,52.0,45.9,50.5,50.3,58.0,46.4,49.2,42.4,48.5,43.2,50.6,46.7,52.0,50.5,49.5,46.4,52.8,40.9,54.2,42.5,51.0,49.7,47.5,47.6,52.0,46.9,53.5,49.0,46.2,50.9,45.5,50.9,50.8,50.1,49.0,51.5,49.8,48.1,51.4,45.7,50.7,42.5,52.2,45.2,49.3,50.2,45.6,51.9,46.8,45.7,55.8,43.5,49.6,50.8,50.2],"xaxis":"x","y":[17.9,19.5,19.2,18.7,19.8,17.8,18.2,18.2,18.9,19.9,17.8,20.3,17.3,18.1,17.1,19.6,20.0,17.8,18.6,18.2,17.3,17.5,16.6,19.4,17.9,19.0,18.4,19.0,17.8,20.0,16.6,20.8,16.7,18.8,18.6,16.8,18.3,20.7,16.6,19.9,19.5,17.5,19.1,17.0,17.9,18.5,17.9,19.6,18.7,17.3,16.4,19.0,17.3,19.7,17.3,18.8,16.6,19.9,18.8,19.4,19.5,16.5,17.0,19.8,18.1,18.2,19.0,18.7],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"marker":{"line":{"color":"#283442"}},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#f2f5fa"},"error_y":{"color":"#f2f5fa"},"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"marker":{"line":{"color":"#283442"}},"type":"scattergl"}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"baxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#506784"},"line":{"color":"rgb(17,17,17)"}},"header":{"fill":{"color":"#2a3f5f"},"line":{"color":"rgb(17,17,17)"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#f2f5fa"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"rgb(17,17,17)","plot_bgcolor":"rgb(17,17,17)","polar":{"bgcolor":"rgb(17,17,17)","angularaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"radialaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"ternary":{"bgcolor":"rgb(17,17,17)","aaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"baxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"caxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"yaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"zaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2}},"shapedefaults":{"line":{"color":"#f2f5fa"}},"annotationdefaults":{"arrowcolor":"#f2f5fa","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"rgb(17,17,17)","landcolor":"rgb(17,17,17)","subunitcolor":"#506784","showland":true,"showlakes":true,"lakecolor":"rgb(17,17,17)"},"title":{"x":0.05},"updatemenudefaults":{"bgcolor":"#506784","borderwidth":0},"sliderdefaults":{"bgcolor":"#C8D4E3","borderwidth":1,"bordercolor":"rgb(17,17,17)","tickwidth":0},"mapbox":{"style":"dark"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"bill_length_mm"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"bill_depth_mm"}},"legend":{"title":{"text":"species"},"tracegroupgap":0},"title":{"text":"penguins"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('d62dc0b2-e924-448e-aee9-c19cd1cfc286');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> transform(t):</span>
<span id="cb5-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># compute the z score</span></span>
<span id="cb5-3">    t <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> t.mutate(</span>
<span id="cb5-4">        s.across(s.numeric(), {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"zscore"</span>: <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">lambda</span> x: (x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> x.mean()) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> x.std()})</span>
<span id="cb5-5">    ).dropna()  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># drop rows with missing values</span></span>
<span id="cb5-6">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> t</span>
<span id="cb5-7"></span>
<span id="cb5-8"></span>
<span id="cb5-9">f <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> transform(t)</span>
<span id="cb5-10">f</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">┏━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> species </span>┃<span style="font-weight: bold"> island    </span>┃<span style="font-weight: bold"> bill_length_mm </span>┃<span style="font-weight: bold"> bill_depth_mm </span>┃<span style="font-weight: bold"> flipper_length_mm </span>┃<span style="font-weight: bold"> body_mass_g </span>┃<span style="font-weight: bold"> sex    </span>┃<span style="font-weight: bold"> year  </span>┃<span style="font-weight: bold"> bill_length_mm_zscore </span>┃<span style="font-weight: bold"> bill_depth_mm_zscore </span>┃<span style="font-weight: bold"> flipper_length_mm_zscore </span>┃<span style="font-weight: bold"> body_mass_g_zscore </span>┃<span style="font-weight: bold"> year_zscore </span>┃
┡━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━╇━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━┩
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>  │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span>    │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>        │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>       │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>             │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span>       │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">string</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">int64</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>               │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>              │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>                  │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>            │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">float64</span>     │
├─────────┼───────────┼────────────────┼───────────────┼───────────────────┼─────────────┼────────┼───────┼───────────────────────┼──────────────────────┼──────────────────────────┼────────────────────┼─────────────┤
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">39.1</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.7</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">181</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3750</span> │ <span style="color: #008000; text-decoration-color: #008000">male  </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.883137</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.784218</span> │                <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.416243</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.563316</span> │   <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.258032</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">39.5</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">17.4</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">186</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3800</span> │ <span style="color: #008000; text-decoration-color: #008000">female</span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.809877</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.125990</span> │                <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.060674</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.500969</span> │   <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.258032</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">40.3</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">18.0</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">195</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3250</span> │ <span style="color: #008000; text-decoration-color: #008000">female</span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.663357</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.429788</span> │                <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.420652</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.186793</span> │   <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.258032</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">36.7</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">19.3</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">193</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3450</span> │ <span style="color: #008000; text-decoration-color: #008000">female</span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.322698</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.088015</span> │                <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.562879</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.937402</span> │   <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.258032</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">39.3</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">20.6</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">190</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3650</span> │ <span style="color: #008000; text-decoration-color: #008000">male  </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.846507</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.746243</span> │                <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.776220</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.688012</span> │   <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.258032</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">38.9</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">17.8</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">181</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3625</span> │ <span style="color: #008000; text-decoration-color: #008000">female</span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.919767</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.328522</span> │                <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.416243</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.719185</span> │   <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.258032</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">39.2</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">19.6</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">195</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4675</span> │ <span style="color: #008000; text-decoration-color: #008000">male  </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.864822</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.239914</span> │                <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.420652</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.590115</span> │   <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.258032</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">41.1</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">17.6</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">182</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3200</span> │ <span style="color: #008000; text-decoration-color: #008000">female</span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.516837</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.227256</span> │                <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.345129</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.249140</span> │   <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.258032</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">38.6</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">21.2</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">191</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">3800</span> │ <span style="color: #008000; text-decoration-color: #008000">male  </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.974712</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2.050041</span> │                <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.705106</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.500969</span> │   <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.258032</span> │
│ <span style="color: #008000; text-decoration-color: #008000">Adelie </span> │ <span style="color: #008000; text-decoration-color: #008000">Torgersen</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">34.6</span> │          <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">21.1</span> │               <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">198</span> │        <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4400</span> │ <span style="color: #008000; text-decoration-color: #008000">male  </span> │  <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2007</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.707313</span> │             <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.999408</span> │                <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-0.207311</span> │           <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.247203</span> │   <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">-1.258032</span> │
│ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span>       │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span>         │              <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │             <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │                 <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │           <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │ <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span>      │     <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │                     <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │                    <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │                        <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │                  <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │           <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">…</span> │
└─────────┴───────────┴────────────────┴───────────────┴───────────────────┴─────────────┴────────┴───────┴───────────────────────┴──────────────────────┴──────────────────────────┴────────────────────┴─────────────┘
</pre>
</div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> sklearn.decomposition <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> PCA</span>
<span id="cb6-2"></span>
<span id="cb6-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># select "features" as X</span></span>
<span id="cb6-4">X <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> f.select(s.contains(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"zscore"</span>))</span>
<span id="cb6-5"></span>
<span id="cb6-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># get the the first 2 principal components to visualize</span></span>
<span id="cb6-7">n_components <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span></span>
<span id="cb6-8">pca <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> PCA(n_components<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>n_components).fit(X)</span>
<span id="cb6-9"></span>
<span id="cb6-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># transform the table to get the principal components</span></span>
<span id="cb6-11">t_pca <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ibis.memtable(pca.transform(X)).relabel({<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"col0"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pc1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"col1"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pc2"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"col2"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pc3"</span>})</span>
<span id="cb6-12"></span>
<span id="cb6-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># join the original table with the PCA table, assuming the order is the same</span></span>
<span id="cb6-14">f <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> f.mutate(row_number<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>ibis.row_number().over()).join(</span>
<span id="cb6-15">    t_pca.mutate(row_number<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>ibis.row_number().over()), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"row_number"</span></span>
<span id="cb6-16">)</span>
<span id="cb6-17"></span>
<span id="cb6-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># plot the first 3 principal components</span></span>
<span id="cb6-19">px.scatter_3d(f, title<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"penguins PCA"</span>, x<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pc1"</span>, y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pc2"</span>, z<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pc3"</span>, color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"species"</span>)</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="17b5df0d-9a06-4aec-975b-285932099c61" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("17b5df0d-9a06-4aec-975b-285932099c61")) {                    Plotly.newPlot(                        "17b5df0d-9a06-4aec-975b-285932099c61",                        [{"hovertemplate":"species=Adelie\u003cbr\u003epc1=%{x}\u003cbr\u003epc2=%{y}\u003cbr\u003epc3=%{z}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Adelie","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers","name":"Adelie","scene":"scene","showlegend":true,"x":[-1.4058491529440567,-1.4682405325817964,-1.9721588389183493,-2.0027118744856955,-1.8601976949574925,-0.9039726742113986,-1.8878434334651963,-2.0373363533906246,-1.6517172389124273,-1.8359555242977603,-1.664328244112499,-0.888695417385761,-2.436441545917655,-2.1981024867921772,-1.942386071904186,-1.592103615379837,-1.6693127401162797,-2.0138691917800715,-1.8490289548430014,-2.7970155837816235,-1.7661781675178463,-1.9696296635740653,-1.9956863242176357,-1.7466621004691025,-1.6035990765688932,-1.539996932146732,-1.5232262630150246,-1.718471235485838,-2.4911996787711703,-1.2211794518049037,-2.383800085620117,-1.0616756751929184,-0.6650218320086366,-2.1019326713597812,-0.9664345278812043,-2.0142367041246447,-1.8724451204877042,-1.4906854155011215,-1.1412360856823183,-1.8643131277520082,-0.7841536306532261,-2.4453368832022275,-1.2615455147420451,-1.2176547463408571,-2.2586126591622837,-1.51994566785793,-2.015937906131363,-1.127622473853356,-1.570131945671902,-0.9256274162635415,-2.2443543226249822,-0.9125781038353107,-1.3461518855543706,-1.8031750823219999,-0.5885385399924146,-2.1063918126940266,-1.2663996720524757,-1.0285238425503782,-0.40296959353498085,-1.5714469912895177,-0.5849930502052196,-0.9423586209545312,-1.9196102237649733,-1.4583532614999737,-0.9345222155591238,-0.047214065971069405,-1.5200965128450936,-1.681081919449481,-1.8373248092495384,-1.8536321492239696,-1.549483760993042,-1.6183992601404034,-1.2668412833310192,-0.2024863234375531,-2.0257776328545627,-1.0014936593689137,-1.870039132612566,-0.2649277317054061,-1.5761861045095664,-2.5289398882888405,-0.7772977388039487,-1.5030388651088733,-0.2911062464494785,-1.4137649285175529,-1.9098193773380367,-1.7607200950485533,-0.7606589110585508,-1.6203291265964674,-1.89234390405844,-0.11947789285523013,-0.546225160346027,-1.3918127523765171,-0.6451000180389876,-1.60354672033248,-0.5410938967450816,-1.752854052072476,-1.5125783891127937,-1.6442494670209633,-1.534042328929452,-1.8616696067320915,-1.7343445177879835,-0.5805225043303289,-1.7935506354448487,-0.7841785467188834,-1.4768801156314728,-0.5274229652083982,-1.5142276911317636,0.15654118137655804,-1.5685378411517104,-1.0411970519679377,-1.5871613009362113,-0.615767689360484,-0.8788620713259355,-1.7907750647997085,-1.0139739057000112,-0.7126560075836678,-1.0931222401160838,-1.2740796071335991,-1.8887180498555014,-0.9317293819884802,-1.5884659362508367,-1.6692999026730935,-1.0171237262776578,-1.9690488540150894,-1.4814828715573465,-0.5275173039371719,-1.9383159010433828,-1.0869022468921066,-2.492130477999352,-1.7931611813349246,-1.8190121770557837,-2.3960577610275595,-1.5475251636099723,-1.2353577563083038,-1.7866253183634602,-1.590474937258257,-0.682952663232622,-1.711829574682654,-0.6514145464905385,-1.5958454901172432,-1.565633403357796,-1.4656872573999717,-1.252821171813893,-1.5720788602752007,-1.9693928288440377,-1.5684242299638682],"y":[1.1698030246220286,1.0926461637823772,1.0634043541135416,1.1522666710256506,1.1532918458117214,1.2593016753304147,1.136905128227573,1.158291468923336,1.1384044860270248,1.1083523584361663,1.0932015828888222,1.2985657692419044,1.0264436483014803,1.135434165925447,1.1035469835093163,1.1710053362580126,1.1731785941858868,1.096647849683957,1.173815744837455,1.1053990993405676,1.232411405234183,1.120390324953435,1.166475150822236,1.1033403163029987,1.221956837522597,1.0243994565366137,1.198316524874432,1.1775008470913093,1.0961481284604766,1.2966551440782277,1.0472370175440198,1.1855655033328492,1.3134602639613362,1.0232866402015854,1.2676878248790215,1.172403040873578,1.0518397677397293,1.2709530699258624,0.03680929710628575,-0.17559634498348284,0.009020589054408439,-0.2441439905314603,-0.02458246814357238,-0.031669053094223985,-0.2036227238277883,-0.09503051146093335,-0.1909039368980327,0.06275045117525363,-0.09862203554551925,0.008776034321421461,-0.21159520378386892,0.00448158194906948,-0.20219524779737924,-0.21580880173099865,0.060778121307955,-0.17893694252732148,-0.029211663476494572,-0.09863289176090874,0.09776923459632217,-0.13701633820157355,0.058303620355373946,-0.043217762999823,-0.05305152217290104,-0.1413876223954447,0.017045785027378337,0.10904512743193748,-0.08056223312516585,-0.14882966892924632,-0.09922198166130912,-0.12748210551116307,-0.041894775523865536,-0.07963915345543295,-0.18436499352133526,0.0018788885539378834,-0.19008663437770623,0.04799219410577845,-0.16652395323024893,-0.008252258057314658,-0.08299557713861232,-0.25440965490507256,0.055626374142433335,-1.3557556040198917,-1.1398409889413241,-1.2211510884846035,-1.4015127417267732,-1.261963561548256,-1.3096861989101938,-1.257631566764863,-1.339896053140929,-1.0804612510448524,-1.0336542835026314,-1.3382369269154082,-1.1591787502814146,-1.2308877716486182,-1.1783079265576584,-1.3854324041084536,-1.3135722192888863,-1.385760724932391,-1.2802546491766187,-1.394718230320266,-1.2518565307416336,-1.2439380382212943,-1.4296912015364789,-1.2318134880687983,-1.3402620833930783,-1.1694717899363851,-1.3673713866929365,-1.2039098898106406,-1.3351021670914869,-1.2412489984084532,-1.3503283123119316,-1.232413738907081,-1.2167264052829525,-1.412786191940952,-1.2395750436927122,-1.205460254325308,-1.3069684986204837,-1.2721867235226132,-1.4951750190139574,-1.2487109108614014,-1.4096928262736828,-1.266365313483043,-1.2024062886619988,-1.3315696141432523,-1.3299477427823827,-1.223493420878882,1.1773635919207572,1.3388224151235024,1.1275430021985147,1.1127971348387442,1.2117360148165601,1.0226555738113872,-0.07918981891625927,0.03133536370706911,-0.08671359699518426,-0.045144769524145735,0.021494821251176917,-1.3708732949473474,-1.3102974264930856,-1.322835234763054,-1.3463146718880967,-1.3809071183962813,-1.3024579247102335,-0.07327629285583952,-0.21512565198592926,-1.3413735443322488],"z":[-0.5327622956769645,-0.24254106858641755,-0.09527781115564248,0.7274011113714166,-0.45373227332662935,0.3984821392928339,-0.32834087599429235,0.9059771535702835,0.4819829670356584,-0.6961351238437986,0.0028375722651390344,1.1893557991722374,-0.7246574413933318,-0.22385644801985893,-0.19691977818721765,-0.38039349561977387,-0.6932886936251547,-0.38459826661175706,0.049663206172526314,-0.2833819163154356,0.1904301518064148,-0.8643761562694164,-0.4975094326889834,-0.41051110592447376,0.23231761558464206,-1.0653846463556789,0.962182289853983,0.4549044242344547,-0.01620036829704399,0.25368338348945657,-0.6724510624994416,0.02593506812792976,0.9514742803671065,-1.0723598195476338,0.11020495390747326,0.2549778453238619,-0.7384835016541709,1.3376562645254706,0.2721231425704847,-0.7550979050427612,0.7082390147272192,-0.7750263478185556,0.24604316767203974,0.24878535091783605,-1.1699875287812669,0.03933551808866548,-1.109570694807578,1.3031748216617611,-0.825704770009855,0.08070413990892031,-0.9773171506594825,0.046408876105173906,-1.3920195985768267,-1.2140524044417436,0.6772097368142908,-0.46248596199670483,-0.004473205121108425,-0.5245846252470122,0.8866917589586383,-0.8418653441441634,0.4050457050549752,-0.5350930707510264,0.12315786723859774,-1.344540176440916,0.5507425152377332,0.08955539437094046,-0.07637862805994466,-0.5521909399690229,0.06079116632295453,-0.26190434283685654,0.1692850096642505,0.04554722048392646,-0.6233951552562863,0.06804043932854013,-1.194000037145528,-0.0943783714588308,-0.8803146146236003,0.36000800010239237,-0.11433814008530188,-1.7402296825481338,0.43481085665812186,-0.6393177558644114,0.949706193474874,0.5549326901951769,-0.10457643773227074,0.25805036920399244,-0.5233140407123426,0.5702817464715555,-0.715404778965356,0.7864655932383225,1.5553215518601582,-0.24942347859362698,0.8388970367289819,1.0060783406531784,0.3922702376394935,-0.6790491021869852,0.6691019204338922,-0.9583228896357285,0.27431208341465135,-0.8403784755012854,-0.4671228814305698,0.3185835733619051,-1.4828447057995544,0.44155726519256416,-0.3830192688574694,0.2790239358410939,-0.5812214339791101,0.42584819696365006,-0.29116572559526743,0.7533383874902495,-0.21844582846149105,-0.0599211632327874,-0.1227228879252196,-0.7803623842019136,0.8405500194132356,-0.08389751192087253,-0.4209641762427129,-0.33439630003895776,-1.9811565614814355,-0.3823061738208359,-0.891137497842077,0.10964628343088373,0.14242709262569858,-0.2878420486901479,-0.8581385496632876,0.33900263914149525,-0.0585216286144819,1.867947444053529,-0.39404400249418825,-0.26976545363196663,0.1820109647841753,-0.5268526751379815,-0.4746814343759158,0.44573948438728406,-0.17990545685014506,0.9110143784236466,0.1411209738826099,-1.1696143720730046,-0.8549260475142418,-0.44954083991330385,-1.0166962687568835,-0.5911268555708923,-0.2506976374127022,-0.3325646904605099,-1.1020514159552701,0.4073546000585623],"type":"scatter3d"},{"hovertemplate":"species=Gentoo\u003cbr\u003epc1=%{x}\u003cbr\u003epc2=%{y}\u003cbr\u003epc3=%{z}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Gentoo","marker":{"color":"#EF553B","symbol":"circle"},"mode":"markers","name":"Gentoo","scene":"scene","showlegend":true,"x":[1.4854423582727976,2.787111178442923,2.5165681949421845,2.129518990755989,1.451848222476318,1.352359081933899,1.9212248053908414,1.711584879128895,1.1794131377684736,2.068718121884923,0.9336373654946285,2.42015595552568,0.8045898403015507,2.9839351936789082,1.35692970967805,2.352678090584227,2.7134882352297867,1.6481565792205326,1.521465910755023,1.7461850343096668,1.6793823811168205,1.466815126239343,2.4756087873651396,1.0665185952733645,1.355107729548811,3.6828982183222068,2.1308576616830113,1.5760867888318202,1.0967008207753157,1.7507664381799242,0.6948392757097055,2.700560919048348,1.2320719061729024,1.881985869710589,2.569766939023187,1.7483612391450842,1.1400899593502722,2.5897564855725417,1.9497611868106113,1.692548385106452,1.6164603238446846,1.1437234097718623,2.4629152864320334,1.8887268170033797,1.7894215626130756,0.9857520199406208,1.8767933628983289,0.9185101013549994,2.763516912398984,1.0617126017747665,2.2013002429257247,1.81556491141426,2.7614179798656378,2.88433975359861,1.6656967833917098,2.8075992175234474,1.7243846976032433,1.8721384924162294,2.0899429780506895,2.0140742895256523,1.5823032606581509,2.89067223685106,1.4789559922720192,2.7658058944005575,1.7165430870563407,2.3448637237092815,1.782503841750339,2.7774426851873373,2.564201176725868,2.684939775187544,1.5580859426032188,2.7329352428695355,1.9212159249552938,2.900457724240096,2.0176957791381374,2.7041441623443867,1.5695137346734274,2.6497103051457715,1.916054219495468,2.1603492204076296,1.376266824026402,2.5076377912486207,2.0730578906113712,3.168084648059012,1.7870156173503315,1.993231216050187,1.0981644261763988,2.7644470197517688,1.2036910975848714,2.055957326827206,2.178890882873846,3.1631614430797,2.9566968884149514,1.655417458893893,3.555163175513713,2.072515209555476,1.908654374113514,2.8296217744922143,1.7927606956021633,2.100047382056725,1.4456153826380345,1.0627919790658844,2.4022576909385127,1.2714706098882602,2.2171702883989113,2.1279793672501466,2.3182267099651908,1.4550391549657,2.5114620982582045,1.4573247333829926,3.3617509710383597,1.6899536628522622,1.6600019548778222,2.688148088415795,1.5968149060106838,2.9362745541010984,1.2357748787915062,1.5609738702388898,2.767966698559757],"y":[1.285871707507878,1.4698241255485802,1.498954197735303,1.4217969215796764,1.3040381569571737,1.3177729690639124,1.3725208947484893,1.3802384957604665,1.2019571073054203,1.4720329378296195,1.2528296216734391,1.5102666425732039,1.1702386919378296,1.5506584316388146,1.3379252253157903,1.4187536451145866,1.4979978930449873,1.3251589798394867,1.3604782530940245,1.277013037759613,1.359401222234863,1.3460520015769275,1.4748467866796195,1.260646640658172,1.3546594698691643,1.6957463534610149,0.22263407176633918,0.06523198365556683,0.029963853676017366,0.253660927194352,-0.043858012205764775,0.2664960062141969,0.042557942162096185,0.16824318764717866,0.27258997893013026,0.06696419670955664,0.03476590886152927,0.24506000156796728,0.12471085197840379,0.16255033773263355,0.1383145435048331,0.05502243248089422,0.18276920225265916,0.12344421491890364,0.11087424223745482,0.021531932315689735,0.1118147207884295,0.032318210792898074,0.2618101225895547,0.03633740347382964,0.15903821586058858,0.07849953033761681,0.2598484315916026,0.26660914558011883,0.03286037415102374,0.2687302698242496,0.13293974053198174,0.12874897319397116,0.17474085355552202,0.1631603907134965,0.10251149569537532,0.24594473190710497,0.12657435987023904,0.3480811846550673,0.08316129815762896,0.22399038492062415,-1.0565678728114465,-0.9103044395418403,-0.9764555806250472,-0.9345700489770636,-1.1835544298939213,-0.9499791708509085,-1.0575266273635642,-0.924052608054643,-1.0603455528900765,-0.9346883252841075,-1.1077754779510356,-0.9872558680418122,-1.0182186291690105,-1.0945941571574755,-1.0439629281099783,-0.9683516853019016,-1.0572147050763758,-0.8413656502879628,-1.0514771313281033,-0.9899252902343113,-1.1778104942736256,-0.8804633667481054,-1.161591736818463,-0.9535414925186149,-0.991484880653229,-0.9194096985689195,-0.9451084529799471,-1.158412024733484,-0.8358624138141217,-1.0641918956541556,-1.0808225154377984,-0.9140687532786688,-1.0553329284237631,-0.9390646297308026,1.3354842944994196,1.2281441981197094,1.4994467939597853,1.2816997985041563,1.4594751568879434,1.3812323931906956,0.1964869030245462,0.1375862844172732,0.20052407691986524,0.051961462347807,0.32857441904891954,-1.075089496297502,-1.122558068171184,-0.9470681094320721,-1.1185782152296027,-0.9906445766656913,-1.1567527818196652,1.2874286108474762,-0.9098358889216409],"z":[-1.4376234488248851,0.34688870134442124,-0.10409501112643202,-0.6743049755781223,-1.2694480233524155,-0.9245701566076179,-0.463328563843429,-0.4184078567132581,-1.788899592016288,0.13691482895869983,-0.9299874261285898,0.03295692196955538,-1.7923897779541615,-0.14113394819344874,-0.8788692574701913,-0.31215431386708986,-0.44559906320279236,-0.979184209579105,-0.31952751139309477,-1.784202344229959,-0.6198708090419246,-0.75711475286979,-0.07468380824231267,-1.3787542480161432,-0.9797717643015078,1.704426929066868,0.23484824167725987,-1.4874819289224082,-1.4265483447780416,0.014375329743844568,-1.5602222548478508,0.2716988755935036,-1.2473212326909198,-0.2138976517272047,0.3156118457761251,-1.2994400858225206,-1.1528546283019192,0.3052333858556106,-1.3860683702956305,-0.32685686378045514,-0.8593275469780578,-0.9784775329434813,-0.13399050565100787,-0.7814103730978373,-0.5274317953242504,-1.3312887975322256,-0.6384250468631744,-1.1423877780694018,0.06365814785395939,-1.2161849894648753,-0.5776670150200186,-0.953462122542386,0.6193383640497123,0.3519192385817307,-1.2036558724671818,-0.025314057534153816,-0.42105704629792995,-0.2975118944024573,-0.09318035504926253,-0.5957133143774548,-0.5668353200946802,0.173633629936039,-0.7819657385050641,0.5776842693633334,-1.1786270846635496,-0.02753554394621209,-0.3902421663991426,0.4963343689979449,0.3385188284448757,1.0133939707707909,-1.0506380867886689,-0.21349985786953438,-0.7463430637020624,1.0311498365750518,-0.333139602289037,1.0691515704248815,-0.7726606149648835,0.33405160485715335,0.19378716961211997,-0.5637734627971797,-0.5121351990748636,0.6931629621531621,-0.23160546403508017,1.4483499635905916,-0.16372555112069412,0.07726398594910676,-1.1114377139033214,0.6780794642838088,-1.2308127644655158,-0.18814238396404218,0.07757113962762807,0.36805494509025155,0.6791187639935624,-0.8852015007539684,0.9787913142065656,-0.8949619435659053,-0.7018458826050645,0.33254049514146145,-0.6479278396865698,0.4060293245356193,-0.7954476520797907,-1.6714069228691955,-0.5115297346429843,-0.8761483675657771,-0.4304714886332023,-0.392137725958701,-0.3145352267044695,0.18971026119804282,-0.6504157576609455,-1.1125852395525004,0.6624736214833904,-0.5271522265265698,-1.1206540521401192,0.38896463387363683,-0.7917246837791638,-0.10849410867881665,-0.7156455766170653,-1.2873557946345318,0.38011771354569446],"type":"scatter3d"},{"hovertemplate":"species=Chinstrap\u003cbr\u003epc1=%{x}\u003cbr\u003epc2=%{y}\u003cbr\u003epc3=%{z}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Chinstrap","marker":{"color":"#00cc96","symbol":"circle"},"mode":"markers","name":"Chinstrap","scene":"scene","showlegend":true,"x":[-0.8854177421764644,-0.4780458470905816,-0.6040853132194767,-1.2834786781738765,-0.39315589235946574,-0.41949847363647347,-1.7227236991704558,-0.17157108917235478,-0.5592844509517165,-0.5055320775228371,-0.6106796533408627,-0.6647751158562608,-0.8731128974046352,0.2756725054930136,-0.8053436984393348,-0.14930021119258813,-0.9234214652052087,-0.22451759130775908,-1.150043084559474,-1.5142186502704562,-0.5994751666820988,0.0001912214777915458,-0.30392960876901365,-0.23310544133480027,-0.686511860833837,0.5585527825890335,-1.4084247022730754,0.17949200172829358,-1.1929974735867481,-0.477926395797351,0.06939221197461638,0.7277438541481074,-1.0486661595872488,0.6024040321969947,0.13710653665186143,-0.8408893190367142,-0.47190921079935244,-0.5333063533664671,-0.054766001705256646,0.5521404638014823,-0.5549676273993946,0.5297176674255641,0.056035986350884186,-0.10347629946297844,0.15923511512917382,-0.5399855285673014,0.11123710249362133,-1.2221377910138438,-0.24047257793364565,-0.7627703784630335,-0.0449635087813794,0.037936034697108496,-0.36380184837122287,0.6436350085312144,-0.6515509037847135,0.5804236359399181,-0.12280073025455047,0.017651393615068203,-1.4868206947847613,-0.7487852581539253,-0.8830876545927184,0.25962101928737624,-0.4207617370797063,-0.8246180579883985,-0.979512707119484,0.30508671928358383,-0.41784891422684206,-0.2769471329409264],"y":[1.2474042108293169,1.3593158868014557,1.3592573309810791,1.2458689131679368,1.3861816330174477,1.2617689246599624,1.2508107801383639,1.3549986038199844,1.3161475468390031,1.3546476968448107,1.2834792489177294,1.3851801487842945,1.2989964700331977,1.3935118856454478,1.247319149607118,1.3734281715498,1.289303463870467,1.5175942751853821,1.2487138220277356,1.1185765584527791,1.3661088857306716,1.4223444697362513,0.07969397102373071,0.11441421837088685,0.0641680449269979,0.2605041491901481,-0.09537501617094897,0.27091785474935487,-0.04630687154124331,0.1054777263923472,0.0812810473174888,0.26612292456284087,-0.061140015462868756,0.2667182657417819,0.09750536696548605,0.06423476988344398,0.1211937906936917,0.003682023425612683,-1.0782083663180289,-0.9942330452844108,-1.110155450014656,-1.0727248481222746,-1.1075689842981815,-1.1906449234553496,-1.0432213258976495,-1.1786429670003562,-1.0458540252297706,-1.2520472512793912,-1.0805139697571133,-1.2296734551615067,-1.0708287677433497,-1.0882797321780038,-1.1797340067990745,-0.9684598513444282,-1.26659100604082,-1.0616806585060155,-1.0803219037592353,1.4033381243750276,1.2125920747430914,1.272845981550067,1.2173171310899136,0.17017635203266276,0.09626691480226997,-1.090098639460703,-1.1819119299284073,-1.045852157701114,-1.1444705519567209,-1.0795491481197284],"z":[0.41153866443825554,1.4736467389353936,1.4723613192842295,0.6142529933123565,1.8755810013027652,0.2692378257298191,0.4607473352738329,1.0790710694539118,0.8149248565747593,1.7618643795159,0.40687794010118267,1.9706919879639675,0.23595092542659538,1.1415635475953145,0.02807757126952135,1.583533830705471,1.6603216987701237,1.6348212515200435,0.6780162864648077,-0.5243884136777542,1.4888879664341534,1.5106365274799305,1.1384695397212998,1.3039462320952384,0.46825697660822607,2.130882781717864,-0.6585176430193201,2.5839682666085255,-0.43158690874923417,1.1452399524170302,0.20528897898516396,2.3493113753342434,-0.04181569144915457,2.162799216951162,1.4691640536782051,0.31899705936542244,1.474457035990893,0.033926551977556285,1.0925542425697337,1.3893320785913277,0.9796533469985417,1.6313684675366513,0.7315692843471867,0.15522053862240703,1.6162135385625978,0.27559392017583145,1.8316979056920086,-0.0969631824131505,1.58001397453461,-0.09091613634530496,1.759789764412904,1.3931056456080313,0.15968441840210293,2.4264001044527457,0.347720437350438,1.5681110274958674,1.3484064212698603,0.9014383855722424,-0.2759807378319963,0.45947651917756943,0.4189288211715643,1.4127177581401482,0.81535904810535,1.4413922514677917,1.106936532787515,1.8754589703967752,0.0743108542824536,1.0782578634056446],"type":"scatter3d"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"marker":{"line":{"color":"#283442"}},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#f2f5fa"},"error_y":{"color":"#f2f5fa"},"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"marker":{"line":{"color":"#283442"}},"type":"scattergl"}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"baxis":{"endlinecolor":"#A2B1C6","gridcolor":"#506784","linecolor":"#506784","minorgridcolor":"#506784","startlinecolor":"#A2B1C6"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#506784"},"line":{"color":"rgb(17,17,17)"}},"header":{"fill":{"color":"#2a3f5f"},"line":{"color":"rgb(17,17,17)"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"rgb(17,17,17)","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#f2f5fa"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"rgb(17,17,17)","plot_bgcolor":"rgb(17,17,17)","polar":{"bgcolor":"rgb(17,17,17)","angularaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"radialaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"ternary":{"bgcolor":"rgb(17,17,17)","aaxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"baxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""},"caxis":{"gridcolor":"#506784","linecolor":"#506784","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#283442","linecolor":"#506784","ticks":"","title":{"standoff":15},"zerolinecolor":"#283442","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"yaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2},"zaxis":{"backgroundcolor":"rgb(17,17,17)","gridcolor":"#506784","linecolor":"#506784","showbackground":true,"ticks":"","zerolinecolor":"#C8D4E3","gridwidth":2}},"shapedefaults":{"line":{"color":"#f2f5fa"}},"annotationdefaults":{"arrowcolor":"#f2f5fa","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"rgb(17,17,17)","landcolor":"rgb(17,17,17)","subunitcolor":"#506784","showland":true,"showlakes":true,"lakecolor":"rgb(17,17,17)"},"title":{"x":0.05},"updatemenudefaults":{"bgcolor":"#506784","borderwidth":0},"sliderdefaults":{"bgcolor":"#C8D4E3","borderwidth":1,"bordercolor":"rgb(17,17,17)","tickwidth":0},"mapbox":{"style":"dark"}}},"scene":{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"xaxis":{"title":{"text":"pc1"}},"yaxis":{"title":{"text":"pc2"}},"zaxis":{"title":{"text":"pc3"}}},"legend":{"title":{"text":"species"},"tracegroupgap":0},"title":{"text":"penguins PCA"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('17b5df0d-9a06-4aec-975b-285932099c61');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph TD

  %% Extraction
  JSON --&gt;|Extract| CLOUDSTORAGE
  PARQUET --&gt;|Extract| CLOUDSTORAGE
  DELTASRC --&gt;|Extract| CLOUDSTORAGE
  
  %% Transformation
  CLOUDSTORAGE --&gt;|Transform| DUCKDB
  CLOUDSTORAGE --&gt;|Transform| POLARS
  
  %% Load
  DUCKDB --&gt;|Load| DELTADST
  DUCKDB --&gt;|Load| DBOUTPUT
  POLARS --&gt;|Load| DELTADST
  POLARS --&gt;|Load| DBOUTPUT
  
  classDef dataFormat fill:#f9d,stroke:#333,stroke-width:2px;
  classDef storage fill:#9df,stroke:#333,stroke-width:2px;
  classDef processing fill:#fd9,stroke:#333,stroke-width:2px;
  classDef output fill:#d9f,stroke:#333,stroke-width:2px;

  class JSON,PARQUET,DELTASRC dataFormat;
  class CLOUDSTORAGE storage;
  class DUCKDB,POLARS processing;
  class DELTADST,DBOUTPUT output;
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>



<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>archive</category>
  <guid>https://dkdc.dev/posts/testing/</guid>
  <pubDate>Sun, 01 Apr 0001 00:00:00 GMT</pubDate>
  <media:content url="https://dkdc.dev/posts/testing/404.png" medium="image" type="image/png" height="144" width="144"/>
</item>
</channel>
</rss>
